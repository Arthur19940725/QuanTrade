# 📋 股票预测功能测试清单

## 🚀 启动服务
- [ ] 激活虚拟环境: `venv_py311\Scripts\activate`
- [ ] 启动Web服务: `cd webui && python app.py`
- [ ] 确认服务运行在: http://localhost:7070

## 🔍 基础功能测试

### 1. API功能测试
- [ ] 访问调试页面: http://localhost:7070/debug_stock_prediction.html
- [ ] 测试股票搜索API (输入"苹果"或"AAPL")
- [ ] 测试股票预测API (使用AAPL, us_stocks)
- [ ] 测试市场信息API
- [ ] 检查调试日志无错误信息

### 2. 主界面功能测试
- [ ] 访问主页面: http://localhost:7070
- [ ] **关键步骤**: 在"数据源选择"中选择"在线股票数据"
- [ ] 确认股票搜索区域显示出来
- [ ] 确认文件选择区域隐藏了

### 3. 股票搜索测试
- [ ] 在搜索框输入"苹果" → 应该出现AAPL结果
- [ ] 在搜索框输入"AAPL" → 应该出现苹果公司结果  
- [ ] 在搜索框输入"腾讯" → 应该出现0700结果
- [ ] 在搜索框输入"BTC" → 应该出现比特币结果

### 4. 股票选择测试
- [ ] 点击搜索结果中的任一股票
- [ ] 确认"已选择股票"区域显示股票信息
- [ ] 确认搜索框显示选中的股票
- [ ] **关键检查**: "预测股票走势"按钮变为可点击状态

### 5. 预测功能测试
- [ ] 设置预测天数 (1-30天)
- [ ] 设置历史数据天数 (30-365天)
- [ ] 点击"预测股票走势"按钮
- [ ] 等待预测完成
- [ ] 检查预测结果显示

## 🐛 故障排除

### 按钮不可点击的可能原因:

1. **数据源未切换**
   - 检查: "数据源选择"是否为"在线股票数据"
   - 解决: 手动选择"在线股票数据"

2. **股票未正确选择**
   - 检查: 是否点击了搜索结果中的股票
   - 检查: "已选择股票"区域是否显示信息
   - 解决: 重新搜索并点击股票

3. **JavaScript错误**
   - 检查: 浏览器控制台(F12)是否有错误
   - 检查: 是否看到调试日志 "🎯 选择股票" 和 "✅ 预测按钮已启用"
   - 解决: 刷新页面重试

4. **股票预测器未初始化**
   - 检查: 调试页面API测试是否正常
   - 检查: 服务器控制台是否有错误信息
   - 解决: 重启Web服务

### 调试命令:

```javascript
// 在浏览器控制台中运行以下命令检查状态:

// 检查选中的股票
console.log('选中股票:', selectedStock);

// 检查按钮状态  
console.log('按钮状态:', document.getElementById('predict-stock-btn').disabled);

// 手动启用按钮 (临时解决)
document.getElementById('predict-stock-btn').disabled = false;

// 检查股票搜索区域是否显示
console.log('股票搜索区域:', document.getElementById('stock-search-section').style.display);
```

## ✅ 成功标准

功能正常时应该满足:
- [ ] 可以搜索到股票结果
- [ ] 可以选择股票
- [ ] "预测股票走势"按钮可点击
- [ ] 可以成功执行预测
- [ ] 显示预测结果

## 🆘 如果仍有问题

1. 重启Web服务器
2. 清除浏览器缓存
3. 检查虚拟环境是否正确激活
4. 查看服务器控制台的详细错误信息
5. 使用调试页面逐一测试API功能

---

💡 **提示**: 最常见的问题是忘记将数据源切换到"在线股票数据"！